<form [formGroup]="form" (ngSubmit)="submit()" class="resetpassword-form">

  <div class="resetpassword-form__input">
    <input
      type="password"
      formControlName="newPassword"
      [placeholder]="'resetPassword.newPassword' | translate" />

    <div class="resetpassword-form__error">
      @if (form.get('newPassword')?.touched && form.get('newPassword')?.errors?.['required']) {
        {{ 'resetPassword.error.required' | translate }}
      }
      @if (form.get('newPassword')?.touched && form.get('newPassword')?.errors?.['minlength']) {
        {{ 'resetPassword.error.minlength' | translate:{min: 8} }}
      }
    </div>
  </div>

  <div class="resetpassword-form__input">
    <input
      type="password"
      formControlName="confirmPassword"
      [placeholder]="'resetPassword.confirmPassword' | translate" />

    <div class="resetpassword-form__error">
      @if (form.get('confirmPassword')?.touched && form.get('confirmPassword')?.errors?.['required']) {
        {{ 'resetPassword.error.required' | translate }}
      }
      @if (
        form.get('confirmPassword')?.dirty
        && !form.get('confirmPassword')?.errors?.['required']
        && form.get('confirmPassword')?.hasError('passwordMismatch')
        && form.get('newPassword')?.value
        && form.get('confirmPassword')?.value
      ) {
        {{ 'resetPassword.error.passwordMismatch' | translate }}
      }
    </div>
  </div>

  <div class="resetpassword-form__actions">
    <button type="submit" class="btn" [disabled]="form.invalid">
      {{ 'common.button.reset' | translate }}
    </button>
  </div>

  @if (errorMsg) {
    <div class="resetpassword-form__feedback error">{{ errorMsg }}</div>
  }
  @if (isSuccess) {
    <div class="resetpassword-form__feedback success">{{ 'resetPassword.success' | translate }}</div>
  }
</form>
